{{{header}}}

environmentFolderPath: ./env

# Triggered when 'teamsfx provision' is executed
provision:
{{{teamsAppCreate}}}

{{{botAadAppCreate}}}

{{#armDeploy}} deploymentName: Create-resources-for-bot {{/armDeploy}}

{{{teamsAppValidateManifest}}}
{{{teamsAppZipAppPackage}}}
{{{teamsAppValidateAppPackage}}}
{{{teamsAppUpdate}}}

# Triggered when 'teamsfx deploy' is executed
deploy:
{{#cliRunNpmCommand}} install {{/cliRunNpmCommand}} --production
{{#azureAppServiceZipDeploy}} resourceId: ${{BOT_AZURE_APP_SERVICE_RESOURCE_ID}} {{/azureAppServiceZipDeploy}}

# Triggered when 'teamsfx publish' is executed
publish:
{{{teamsAppValidateManifest}}}
{{{teamsAppZipAppPackage}}}
{{{teamsAppValidateAppPackage}}}
{{{teamsAppUpdate}}}
{{{teamsAppPublishAppPackage}}}
